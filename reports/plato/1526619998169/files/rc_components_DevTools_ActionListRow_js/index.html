<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - rc/components/DevTools/ActionListRow.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato.css" rel="stylesheet" type="text/css">
  <link href="../../assets/css/plato-file.css" rel="stylesheet" type="text/css">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://github.com/the-simian/es6-plato">ES6 Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
      <li class="active">
        <a href="display.html">Summary Display</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>rc/components/DevTools/ActionListRow.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">65.94</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">114</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">38.44</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">0.88</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">import React, { PureComponent } from &#039;react&#039;;
import dateformat from &#039;dateformat&#039;;
import debounce from &#039;lodash.debounce&#039;;
import RightSlider from &#039;./RightSlider&#039;;

type Button = &#039;Skip&#039; | &#039;Jump&#039;;

const BUTTON_SKIP = &#039;Skip&#039;;
const BUTTON_JUMP = &#039;Jump&#039;;

export default class ActionListRow extends PureComponent {
  state: State = { hover: false };

  render() {
    const { styling, isSelected, action, isInitAction, onSelect,
      timestamps, isSkipped, isInFuture, isActive, actionId } = this.props;
    const { hover } = this.state;
    const timeDelta = timestamps.current - timestamps.previous;
    const showButtons = hover &amp;&amp; !isInitAction || isSkipped;

    const isButtonSelected = btn =&gt;
      btn === BUTTON_SKIP &amp;&amp; isSkipped;

    let actionType = action.type;
    if (typeof actionType === &#039;undefined&#039;) actionType = &#039;&lt;UNDEFINED&gt;&#039;;
    else if (actionType === null) actionType = &#039;&lt;NULL&gt;&#039;;
    else actionType = actionType.toString() || &#039;&lt;EMPTY&gt;&#039;;

    return (
      &lt;div
        onClick={onSelect}
        onMouseEnter={this.handleMouseEnter}
        onMouseLeave={this.handleMouseLeave}
        onMouseDown={this.handleMouseDown}
        {...styling([
          &#039;actionListItem&#039;,
          isSelected ? &#039;actionListItemSelected&#039; : null,
          isSkipped ? &#039;actionListItemSkipped&#039; : null,
          isInFuture ? &#039;actionListFromFuture&#039; : null,
          isActive ? &#039;actionListIsActive&#039; : null
        ], isSelected, action)}&gt;
        &lt;div
          {...styling([
            &#039;actionListItemName&#039;,
            isSkipped ? &#039;actionListItemNameSkipped&#039; : null
          ])}
        &gt;
          {actionType}
        &lt;/div&gt;
        &lt;div {...styling(&#039;actionListItemButtons&#039;)}&gt;
          &lt;RightSlider styling={styling} shown={!showButtons} rotate&gt;
            &lt;div {...styling(&#039;actionListItemTime&#039;)}&gt;
              {false
                ? (timeDelta === 0 ? &#039;+00:00:00&#039;
                  : dateformat(timeDelta, timestamps.previous ? &#039;+MM:ss.L&#039; : &#039;h:MM:ss.L&#039;)
                ) : actionId}
            &lt;/div&gt;
          &lt;/RightSlider&gt;
          &lt;RightSlider styling={styling} shown={showButtons} rotate&gt;
            &lt;div {...styling(&#039;actionListItemSelector&#039;)}&gt;
              {[BUTTON_JUMP, BUTTON_SKIP].map(btn =&gt; (!isInitAction || btn !== BUTTON_SKIP) &amp;&amp;
                &lt;div
                  key={btn}
                  onClick={this.handleButtonClick.bind(this, btn)}
                  {...styling([
                    &#039;selectorButton&#039;,
                    isButtonSelected(btn) ? &#039;selectorButtonSelected&#039; : null,
                    &#039;selectorButtonSmall&#039;
                  ], isButtonSelected(btn), true)}&gt;
                  {btn}
                &lt;/div&gt;
              )}
            &lt;/div&gt;
          &lt;/RightSlider&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    );
  }

  handleButtonClick(btn, e) {
    e.stopPropagation();

    switch (btn) {
      case BUTTON_SKIP:
        this.props.onToggleClick();
        break;
      case BUTTON_JUMP:
        this.props.onJumpClick();
        break;
    }
  }

  handleMouseEnter = (e) =&gt; {
    if (this.hover) return;
    this.handleMouseEnterDebounced(e.buttons);
  }

  handleMouseEnterDebounced = debounce((buttons) =&gt; {
    if (buttons) return;
    this.setState({ hover: true });
  }, 300)

  handleMouseLeave = () =&gt; {
    this.handleMouseEnterDebounced.cancel();
    if (this.state.hover) this.setState({ hover: false });
  }

  handleMouseDown = (e) =&gt; {
    if (e.target instanceof Element &amp;&amp; e.target.className.indexOf(&#039;selectorButton&#039;) === 0) return;
    if (this.handleMouseEnterDebounced) this.handleMouseEnterDebounced.cancel();
    if (this.state.hover) this.setState({ hover: false });
  }
}
</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
