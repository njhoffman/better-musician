{"version":3,"sources":["src/store/auth/actions/update-password.js"],"names":["updatePasswordFormUpdate","updatePasswordStart","updatePasswordComplete","updatePasswordError","updatePassword","UPDATE_PASSWORD_START","UPDATE_PASSWORD_COMPLETE","UPDATE_PASSWORD_ERROR","UPDATE_PASSWORD_FORM_UPDATE","endpoint","key","value","type","user","errors","body","dispatch","headers","method","then","catch"],"mappings":";;;;;;;;;;;QASgBA,wB,GAAAA,wB;QAGAC,mB,GAAAA,mB;QAGAC,sB,GAAAA,sB;QAGAC,mB,GAAAA,mB;QAGAC,c,GAAAA,c;;AArBhB;;AACA;;AACA;;;;;;AAEO,IAAMC,wDAA8B,uBAApC;AACA,IAAMC,8DAA8B,0BAApC;AACA,IAAMC,wDAA8B,uBAApC;AACA,IAAMC,oEAA8B,6BAApC;;AAEA,SAASR,wBAAT,CAAkCS,QAAlC,EAA4CC,GAA5C,EAAiDC,KAAjD,EAAwD;AAC7D,SAAO,EAAEC,MAAMJ,2BAAR,EAAqCC,kBAArC,EAA+CC,QAA/C,EAAoDC,YAApD,EAAP;AACD;AACM,SAASV,mBAAT,CAA6BQ,QAA7B,EAAuC;AAC5C,SAAO,EAAEG,MAAMP,qBAAR,EAA+BI,kBAA/B,EAAP;AACD;AACM,SAASP,sBAAT,CAAgCO,QAAhC,EAA0CI,IAA1C,EAAgD;AACrD,SAAO,EAAED,MAAMN,wBAAR,EAAkCG,kBAAlC,EAA4CI,UAA5C,EAAP;AACD;AACM,SAASV,mBAAT,CAA6BM,QAA7B,EAAuCK,MAAvC,EAA+C;AACpD,SAAO,EAAEF,MAAML,qBAAR,EAA+BE,kBAA/B,EAAyCK,cAAzC,EAAP;AACD;AACM,SAASV,cAAT,CAAwBW,IAAxB,EAA8BN,QAA9B,EAAwC;AAC7C,SAAO,oBAAY;AACjBO,aAASf,oBAAoBQ,QAApB,CAAT;;AAEA,WAAO,qBAAM,0CAAqBA,QAArB,CAAN,EAAsC;AAC3CQ,eAAS;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OADkC;AAK3CC,cAAQ,KALmC;AAM3CH,YAAM,yBAAeA,IAAf;AANqC,KAAtC,EAQJI,IARI,qCASJA,IATI,CASC;AAAA,UAAEN,IAAF,QAAEA,IAAF;AAAA,aAAYG,SAASd,uBAAuBO,QAAvB,EAAiCI,IAAjC,CAAT,CAAZ;AAAA,KATD,EAUJO,KAVI,CAUE;AAAA,UAAEN,MAAF,SAAEA,MAAF;AAAA,aAAcE,SAASb,oBAAoBM,QAApB,EAA8BK,MAA9B,CAAT,CAAd;AAAA,KAVF,CAAP;AAWD,GAdD;AAeD","file":"update-password.js","sourceRoot":"/home/vagrant/projects/instrumental","sourcesContent":["import {getPasswordUpdateUrl}  from \"../utils/session-storage\";\r\nimport {parseResponse} from \"../utils/handle-fetch-response\";\r\nimport fetch from \"../utils/fetch\";\r\n\r\nexport const UPDATE_PASSWORD_START       = \"UPDATE_PASSWORD_START\";\r\nexport const UPDATE_PASSWORD_COMPLETE    = \"UPDATE_PASSWORD_COMPLETE\";\r\nexport const UPDATE_PASSWORD_ERROR       = \"UPDATE_PASSWORD_ERROR\";\r\nexport const UPDATE_PASSWORD_FORM_UPDATE = \"UPDATE_PASSWORD_FORM_UPDATE\";\r\n\r\nexport function updatePasswordFormUpdate(endpoint, key, value) {\r\n  return { type: UPDATE_PASSWORD_FORM_UPDATE, endpoint, key, value };\r\n}\r\nexport function updatePasswordStart(endpoint) {\r\n  return { type: UPDATE_PASSWORD_START, endpoint };\r\n}\r\nexport function updatePasswordComplete(endpoint, user) {\r\n  return { type: UPDATE_PASSWORD_COMPLETE, endpoint, user };\r\n}\r\nexport function updatePasswordError(endpoint, errors) {\r\n  return { type: UPDATE_PASSWORD_ERROR, endpoint, errors };\r\n}\r\nexport function updatePassword(body, endpoint) {\r\n  return dispatch => {\r\n    dispatch(updatePasswordStart(endpoint));\r\n\r\n    return fetch(getPasswordUpdateUrl(endpoint), {\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"put\",\r\n      body: JSON.stringify(body)\r\n    })\r\n      .then(parseResponse)\r\n      .then(({user}) => dispatch(updatePasswordComplete(endpoint, user)))\r\n      .catch(({errors}) => dispatch(updatePasswordError(endpoint, errors)));\r\n  };\r\n}\r\n"]}