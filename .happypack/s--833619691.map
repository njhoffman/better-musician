{"version":3,"sources":["src/components/modals/Modal.js"],"names":["props","dispatch","closeAction","endpoint","auth","getIn","errorAddr","base","rest","getEndpoint","body","getErrorList","children","show","containerClass","title","close","bind","closeBtnLabel","actions","Component","propTypes","bool","array","string","func","defaultProps","BaseModal"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAkBW;AACP,WAAKA,KAAL,CAAWC,QAAX,CAAoB,KAAKD,KAAL,CAAWE,WAAX,EAApB;AACD;;;kCAEc;AACb,aACE,KAAKF,KAAL,CAAWG,QAAX,IACA,KAAKH,KAAL,CAAWI,IAAX,CAAgBC,KAAhB,CAAsB,CAAC,WAAD,EAAc,oBAAd,CAAtB,CADA,IAEA,KAAKL,KAAL,CAAWI,IAAX,CAAgBC,KAAhB,CAAsB,CAAC,WAAD,EAAc,oBAAd,CAAtB,CAHF;AAKD;;;mCAEe;AAAA,oDACQ,KAAKL,KAAL,CAAWM,SADnB;AAAA,UACTC,IADS;AAAA,UACAC,IADA;;AAEd,aAAO,qDAAW,QAAQ,KAAKR,KAAL,CAAWI,IAAX,CAAgBC,KAAhB,EACxBE,IADwB,EAClB,KAAKE,WAAL,EADkB,0CACKD,IADL,GAAnB,GAAP;AAGD;;;6BAES;AACR,UAAIE,OAAQ,KAAKV,KAAL,CAAWM,SAAZ,GACP,KAAKK,YAAL,EADO,GAEP,KAAKX,KAAL,CAAWY,QAFf;;AAIA,aACI;AAAA;AAAA;AACE,gBAAM,KAAKZ,KAAL,CAAWa,IADnB;AAEE,kDAAsC,KAAKb,KAAL,CAAWc,cAFnD;AAGE,iBAAO,KAAKd,KAAL,CAAWe,KAHpB;AAIE,oBACE;AAAA;AAAA;AACE,mBAAI,OADN;AAEE,yBAAc,KAAKf,KAAL,CAAWc,cAAzB,WAFF;AAGE,uBAAS,KAAKE,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAHX;AAIG,iBAAKjB,KAAL,CAAWkB;AAJd,WADF,0CAOK,KAAKlB,KAAL,CAAWmB,OAPhB,EAJF;AAaGT;AAbH,OADJ;AAiBD;;;EAzDqB,gBAAMU,S,UACrBC,S,GAAY;AACjBR,QAAM,kBAAUS,IADC;AAEjBhB,aAAW,kBAAUiB,KAFJ;AAGjBL,iBAAe,kBAAUM,MAHR;AAIjBL,WAAS,kBAAUI,KAJF;AAKjBrB,eAAa,kBAAUuB;AALN,C,SAQZC,Y,GAAe;AACpBb,QAAM,KADc;AAEpBP,aAAW,IAFS;AAGpBY,iBAAe,IAHK;AAIpBC,WAAS;AAJW,C;;kBAmDT,yBAAQ;AAAA,MAAEf,IAAF,QAAEA,IAAF;AAAA,SAAa,EAACA,UAAD,EAAb;AAAA,CAAR,EAA8BuB,SAA9B,C","file":"Modal.js","sourceRoot":"/home/vagrant/projects/instrumental","sourcesContent":["import React, { PropTypes } from \"react\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\nimport ErrorList from \"../ErrorList\";\nimport { connect } from \"react-redux\";\n\nclass BaseModal extends React.Component {\n  static propTypes = {\n    show: PropTypes.bool,\n    errorAddr: PropTypes.array,\n    closeBtnLabel: PropTypes.string,\n    actions: PropTypes.array,\n    closeAction: PropTypes.func\n  };\n\n  static defaultProps = {\n    show: false,\n    errorAddr: null,\n    closeBtnLabel: \"Ok\",\n    actions: []\n  };\n\n  close () {\n    this.props.dispatch(this.props.closeAction());\n  }\n\n  getEndpoint () {\n    return (\n      this.props.endpoint ||\n      this.props.auth.getIn([\"configure\", \"currentEndpointKey\"]) ||\n      this.props.auth.getIn([\"configure\", \"defaultEndpointKey\"])\n    );\n  }\n\n  getErrorList () {\n    let [base, ...rest] = this.props.errorAddr;\n    return <ErrorList errors={this.props.auth.getIn([\n      base, this.getEndpoint(), ...rest\n    ])} />\n  }\n\n  render () {\n    let body = (this.props.errorAddr)\n      ? this.getErrorList()\n      : this.props.children;\n\n    return (\n        <Dialog\n          open={this.props.show}\n          contentClassName={`redux-auth-modal ${this.props.containerClass}`}\n          title={this.props.title}\n          actions={[\n            <FlatButton\n              key=\"close\"\n              className={`${this.props.containerClass}-close`}\n              onClick={this.close.bind(this)}>\n              {this.props.closeBtnLabel}\n            </FlatButton>,\n            ...this.props.actions\n          ]}>\n          {body}\n        </Dialog>\n    );\n  }\n}\n\nexport default connect(({auth}) => ({auth}))(BaseModal);\n"]}