{"version":3,"sources":["src/store/auth/actions/update-password-modal.js"],"names":["updatePasswordModalFormUpdate","updatePasswordModalStart","updatePasswordModalComplete","updatePasswordModalError","updatePasswordModal","UPDATE_PASSWORD_MODAL_START","UPDATE_PASSWORD_MODAL_COMPLETE","UPDATE_PASSWORD_MODAL_ERROR","UPDATE_PASSWORD_MODAL_FORM_UPDATE","endpoint","key","value","type","user","errors","body","endpointKey","dispatch","headers","method","then","catch"],"mappings":";;;;;;;;;;;QASgBA,6B,GAAAA,6B;QAGAC,wB,GAAAA,wB;QAGAC,2B,GAAAA,2B;QAGAC,wB,GAAAA,wB;QAGAC,mB,GAAAA,mB;;AArBhB;;AACA;;AACA;;;;;;AAEO,IAAMC,oEAAoC,6BAA1C;AACA,IAAMC,0EAAoC,gCAA1C;AACA,IAAMC,oEAAoC,6BAA1C;AACA,IAAMC,gFAAoC,mCAA1C;;AAEA,SAASR,6BAAT,CAAuCS,QAAvC,EAAiDC,GAAjD,EAAsDC,KAAtD,EAA6D;AAClE,SAAO,EAAEC,MAAMJ,iCAAR,EAA2CC,kBAA3C,EAAqDC,QAArD,EAA0DC,YAA1D,EAAP;AACD;AACM,SAASV,wBAAT,CAAkCQ,QAAlC,EAA4C;AACjD,SAAO,EAAEG,MAAMP,2BAAR,EAAP;AACD;AACM,SAASH,2BAAT,CAAqCO,QAArC,EAA+CI,IAA/C,EAAqD;AAC1D,SAAO,EAAED,MAAMN,8BAAR,EAAwCG,kBAAxC,EAAkDI,UAAlD,EAAP;AACD;AACM,SAASV,wBAAT,CAAkCM,QAAlC,EAA4CK,MAA5C,EAAoD;AACzD,SAAO,EAAEF,MAAML,2BAAR,EAAqCE,kBAArC,EAA+CK,cAA/C,EAAP;AACD;AACM,SAASV,mBAAT,CAA6BW,IAA7B,EAAmCC,WAAnC,EAAgD;AACrD,SAAO,oBAAY;AACjBC,aAAShB,yBAAyBe,WAAzB,CAAT;;AAEA,WAAO,qBAAM,0CAAqBA,WAArB,CAAN,EAAyC;AAC9CE,eAAS;AACP,kBAAU,kBADH;AAEP,wBAAgB;AAFT,OADqC;AAK9CC,cAAQ,KALsC;AAM9CJ,YAAM,yBAAeA,IAAf;AANwC,KAAzC,EAQJK,IARI,qCASJA,IATI,CASC;AAAA,UAAEP,IAAF,QAAEA,IAAF;AAAA,aAAYI,SAASf,4BAA4Bc,WAA5B,EAAyCH,IAAzC,CAAT,CAAZ;AAAA,KATD,EAUJQ,KAVI,CAUE;AAAA,UAAEP,MAAF,SAAEA,MAAF;AAAA,aAAcG,SAASd,yBAAyBa,WAAzB,EAAsCF,MAAtC,CAAT,CAAd;AAAA,KAVF,CAAP;AAWD,GAdD;AAeD","file":"update-password-modal.js","sourceRoot":"/home/vagrant/projects/instrumental","sourcesContent":["import {getPasswordUpdateUrl}  from \"../utils/session-storage\";\r\nimport {parseResponse} from \"../utils/handle-fetch-response\";\r\nimport fetch from \"../utils/fetch\";\r\n\r\nexport const UPDATE_PASSWORD_MODAL_START       = \"UPDATE_PASSWORD_MODAL_START\";\r\nexport const UPDATE_PASSWORD_MODAL_COMPLETE    = \"UPDATE_PASSWORD_MODAL_COMPLETE\";\r\nexport const UPDATE_PASSWORD_MODAL_ERROR       = \"UPDATE_PASSWORD_MODAL_ERROR\";\r\nexport const UPDATE_PASSWORD_MODAL_FORM_UPDATE = \"UPDATE_PASSWORD_MODAL_FORM_UPDATE\";\r\n\r\nexport function updatePasswordModalFormUpdate(endpoint, key, value) {\r\n  return { type: UPDATE_PASSWORD_MODAL_FORM_UPDATE, endpoint, key, value };\r\n}\r\nexport function updatePasswordModalStart(endpoint) {\r\n  return { type: UPDATE_PASSWORD_MODAL_START };\r\n}\r\nexport function updatePasswordModalComplete(endpoint, user) {\r\n  return { type: UPDATE_PASSWORD_MODAL_COMPLETE, endpoint, user };\r\n}\r\nexport function updatePasswordModalError(endpoint, errors) {\r\n  return { type: UPDATE_PASSWORD_MODAL_ERROR, endpoint, errors };\r\n}\r\nexport function updatePasswordModal(body, endpointKey) {\r\n  return dispatch => {\r\n    dispatch(updatePasswordModalStart(endpointKey));\r\n\r\n    return fetch(getPasswordUpdateUrl(endpointKey), {\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"put\",\r\n      body: JSON.stringify(body)\r\n    })\r\n      .then(parseResponse)\r\n      .then(({user}) => dispatch(updatePasswordModalComplete(endpointKey, user)))\r\n      .catch(({errors}) => dispatch(updatePasswordModalError(endpointKey, errors)));\r\n  };\r\n}\r\n"]}