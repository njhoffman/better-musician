{"version":3,"sources":["src/components/Header/Header.js"],"names":["props","state","searchPopoverOpen","songPopoverOpen","setState","onRequestClose","showAddSongModal","location","headerLink","isEmpty","currentSong","toggleSongPopover","bind","leftColumn","menuIcon","toggleDrawerMenu","homeLink","user","get","display","verticalAlign","paddingRight","float","height","fontSize","minWidth","padding","paddingLeft","loginButton","registerButton","Breakpoint","renderSongActionButton","showFiltersModal","toggleSearchPopover","signedIn","actionBar","wrapper","textAlign","renderLeftColumn","renderSongButton","MEDIUM","renderFiltersButton","renderSearchButton","renderRightColumn","SMALL","Header","propTypes","PropTypes","func","isRequired","searchClose"],"mappings":"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","file":"Header.js","sourceRoot":"/home/vagrant/projects/instrumental","sourcesContent":["import React, { Component }  from 'react';\nimport { IndexLink, Link } from 'react-router';\nimport { Row, Column, Breakpoints } from 'react-foundation';\nimport { Drawer, MenuItem, Popover, RaisedButton, Avatar } from 'material-ui';\nimport _ from 'lodash';\n\nimport MenuIcon from 'react-icons/lib/md/menu';\nimport FilterIcon from 'react-icons/lib/md/filter-list';\nimport SortIcon from 'react-icons/lib/md/import-export';\nimport SearchIcon from 'react-icons/lib/md/search';\nimport AddIcon from 'react-icons/lib/md/library-add';\nimport EditIcon from 'react-icons/lib/md/mode-edit';\nimport DeleteIcon from 'react-icons/lib/md/delete';\nimport ArrowDropDownIcon from 'react-icons/lib/md/arrow-drop-down';\nimport AvatarIcon from 'react-icons/lib/md/account-circle';\n\nimport SearchPopover from './SearchPopover';\nimport css from './Header.scss';\n\nclass Header extends Component  {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchPopoverOpen: false,\n      songPopoverOpen: false\n    };\n  };\n\n  toggleSearchPopover() {\n    this.setState({\n      searchPopoverOpen: !this.state.searchPopoverOpen\n    });\n  }\n\n  toggleSongPopover() {\n    this.setState({\n      songPopoverOpen: true\n    });\n  }\n\n  onRequestClose() {\n    this.setState({\n      searchPopoverOpen: false,\n      songPopoverOpen: false\n    });\n  }\n\n  showAddSongModal() {\n    this.onRequestClose();\n    this.props.showAddSongModal();\n  };\n\n  renderSongActionButton() {\n    if (this.props.location !== '/songs') {\n      return (\n        <Link className={css.headerLink} to='/songs'>\n          <span>\n            View Songs\n          </span>\n        </Link>\n      )\n    } else if ( _.isEmpty(this.props.currentSong) ) {\n      return (\n        <a className={css.headerLink} onClick={ this.props.showAddSongModal }>\n          <span>\n            <AddIcon />Add Song\n          </span>\n        </a>\n      );\n    }\n    return (\n      <a className={css.headerLink}>\n        <span>\n          <EditIcon />Edit Song\n          <ArrowDropDownIcon onTouchTap={this.toggleSongPopover.bind(this)} />\n          <Popover\n            open={this.state.songPopoverOpen}\n            onRequestClose={this.onRequestClose.bind(this)} >\n            <Row>\n              <Column>\n                <a onClick={ this.showAddSongModal.bind(this) } >\n                  <AddIcon />Add Song</a>\n              </Column>\n            </Row>\n            <Row>\n              <Column>\n                <a><DeleteIcon />Delete Song</a>\n              </Column>\n            </Row>\n          </Popover>\n        </span>\n      </a>\n    );\n  }\n\n  renderLeftColumn() {\n    return (\n      <span className={css.headerLink + '  ' +  css.leftColumn}>\n        <span>\n          <a className={css.menuIcon} onClick={this.props.toggleDrawerMenu}>\n            <MenuIcon />\n          </a>\n          <IndexLink className={css.homeLink} to ='/'>\n            instrumental.com\n          </IndexLink>\n        </span>\n      </span>\n    );\n  }\n\n  renderRightColumn() {\n    if (this.props.user && this.props.user.get(\"isSignedIn\")) {\n      return (\n        <div className={css.headerLink}>\n          <Link to='/profile' style={{ display: 'table-cell', verticalAlign: 'middle', paddingRight: '5px' }}>\n            <span>{ this.props.user.get(\"attributes\").get(\"email\") }</span>\n            <span>\n              <Avatar\n                icon={<AvatarIcon />}\n                color={'#3333ff'}\n                backgroundColor={'#33ff33'}\n                size={35}\n              />\n            </span>\n          </Link>\n        </div>\n      );\n    }\n    return (\n      <div style={{ float: 'right', height: '100%', fontSize: '0.9em', paddingRight: '10px' }}>\n        <div style={{ display: 'table', height: '100%' }}>\n          <Link to='/login' style={{ display: 'table-cell', verticalAlign: 'middle', paddingRight: '5px' }}>\n            <RaisedButton\n              style={{ height: '25px', display: 'table-cell', minWidth: '0px' }}\n              labelStyle={{ padding: '5px 10px', paddingLeft: '10px', display: 'table-cell' }}\n              className={css.loginButton}\n              label=\"LOGIN\"\n              primary={true} />\n          </Link>\n          <Link to='/register' style={{ display: 'table-cell', verticalAlign: 'middle' }}>\n            <RaisedButton\n              style={{ height: '25px', display: 'table-cell', minWidth: '0px' }}\n              labelStyle={{ padding:'5px 10px', paddingLeft: '10px', display: 'table-cell' }}\n              className={css.registerButton}\n              label=\"REGISTER\" />\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  renderSongButton(Breakpoint) {\n    return (\n      <Column showFor={Breakpoint} style={{ padding: '0px' }}>\n        { this.renderSongActionButton(this.props) }\n      </Column>\n    );\n  }\n\n  renderFiltersButton(Breakpoint) {\n    return (\n      <Column showFor={Breakpoint} style={{ padding: '0px' }}>\n        <a className={css.headerLink} onClick={this.props.showFiltersModal} >\n          <span>\n            <FilterIcon />Filters\n          </span>\n        </a>\n      </Column>\n    );\n  }\n\n  renderSearchButton(Breakpoint) {\n    return (\n      <Column showFor={Breakpoint} style={{ padding: '0px' }}>\n        <a className={css.headerLink}\n          onClick={ this.toggleSearchPopover.bind(this) }>\n          <span>\n            <SearchIcon />Search\n            <SearchPopover\n              open={ this.state.searchPopoverOpen }\n              onRequestClose={ this.onRequestClose.bind(this) } />\n          </span>\n        </a>\n      </Column>\n    );\n  }\n\n  render () {\n    const props = this.props;\n    const signedIn = this.props.user.get('isSignedIn');\n    if (signedIn) {\n      return (\n        <div className={css.actionBar}>\n          <Row className={css.wrapper}>\n            <Column small={6} medium={3} style={{ padding: '0px 0px 0px 15px', textAlign: 'left' }}>\n              { this.renderLeftColumn() }\n            </Column>\n            { this.renderSongButton(Breakpoints.MEDIUM) }\n            { this.renderFiltersButton(Breakpoints.MEDIUM) }\n            { this.renderSearchButton(Breakpoints.MEDIUM) }\n            <Column small={6} medium={3} style={{ textAlign: 'right', padding: '0px' }}>\n              { this.renderRightColumn() }\n            </Column>\n          </Row>\n          <Row className={css.wrapper} showOnlyFor={Breakpoints.SMALL}>\n            { this.renderSongButton() }\n            { this.renderFiltersButton() }\n            { this.renderSearchButton() }\n          </Row>\n        </div>\n      );\n    } else {\n      return (\n        <div className={css.actionBar}>\n          <Row className={css.wrapper}>\n            <Column small={6} style={{ padding: '0px 0px 0px 15px', textAlign: 'left' }}>\n              { this.renderLeftColumn() }\n            </Column>\n            <Column small={6} style={{ textAlign: 'right', padding: '0px' }}>\n              { this.renderRightColumn() }\n            </Column>\n          </Row>\n        </div>\n      );\n    }\n  }\n};\n\nHeader.propTypes = {\n  showFiltersModal: React.PropTypes.func.isRequired,\n  toggleDrawerMenu: React.PropTypes.func.isRequired,\n  searchClose:      React.PropTypes.func.isRequired,\n  showAddSongModal: React.PropTypes.func.isRequired\n};\n\nexport default Header;\n"]}